{"mappings":"AAAAA,EAAEC,UAAUC,OAAM,WAgDd,SAASC,EAA4BC,GACjC,OAAO,IAAIC,SAAQ,SAASC,EAASC,GAEjCC,MAAM,oDAA4DC,OAARL,EAAQ,kDAC7DM,MAAK,SAASC,GACX,GAAIA,EAASC,GACT,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAAM,qC,IAGvBJ,MAAK,SAASK,GAEXT,EAAQS,E,IAEXC,OAAM,SAASC,GAEZV,EAAOU,E,OA/DvBC,WAAWC,OAqEXnB,EAAEC,UAAUmB,GAAG,QAAS,UAAU,WAK9BjB,EAHgBH,EAAEqB,MAAMN,KAAK,aAIxBL,MAAK,SAASY,IAxE3B,SAA2BC,GAUvB,GARAvB,EAAE,qBAAqBwB,KAAK,aAAeD,EAAME,OAAO,GAAGC,IAAM,MACjE1B,EAAE,kCAAkCwB,KAAK,aAAeD,EAAME,OAAO,GAAGC,IAAM,MAC9E1B,EAAE,sBAAsB2B,KAAKJ,EAAMK,MACnC5B,EAAE,gBAAgB2B,KAAKJ,EAAMM,MAC7B7B,EAAE,sBAAsB2B,KAAKJ,EAAMO,MAAMC,MAAMC,WAC/ChC,EAAE,iBAAiB2B,KAAKJ,EAAMU,UAAUC,OAAO,GAAGN,MAG9CL,EAAMU,WAAaV,EAAMU,UAAUE,aAAeZ,EAAMU,UAAUE,YAAYC,OAAS,EAAG,CAC1F,IAAIC,EAAMd,EAAMU,UAAUE,YAAYG,KAAI,SAAAC,G,OAAcA,EAAWX,I,IAAMY,KAAK,MAC9ExC,EAAE,eAAe2B,KAAKU,E,MAEtBrC,EAAE,eAAe2B,KAAK,6BAI1B,GAAIJ,EAAMkB,aAAelB,EAAMkB,YAAYL,OAAS,EAAG,CACnD,IAAIM,EAAS,GACbnB,EAAMkB,YAAYE,SAAQ,SAASC,GAC/BF,GAAU,GAAuBjC,OAApBmC,EAAWC,KAAK,MAAwBpC,OAApBmC,EAAWE,IAAI,OAAuBrC,OAAlBmC,EAAWG,IAAI,KAAuBtC,OAApBmC,EAAWI,SAAS,K,IAE/FhD,EAAE,kBAAkB2B,KAAKe,EAAOO,MAAM,GAAG,G,MAEzCjD,EAAE,kBAAkB2B,KAAK,oCAI7BxB,EAA4BoB,EAAM2B,IAC7BxC,MAAK,SAASyC,GAEXnD,EAAE,8BAA8BwB,KAAK,MAAQ2B,EAAQC,kBAAoB,O,IAE5EpC,OAAM,SAASC,GACZoC,QAAQpC,MAAM,2CAA4CA,E,IAIlEC,WAAWoC,KAAK,U,CAmCJC,CAAkBjC,E,IAErBN,OAAM,SAASC,GACZoC,QAAQpC,MAAM,gCAAiCA,E","sources":["src/script/modal.js"],"sourcesContent":["$(document).ready(function() {\n    // Call MicroModal.init() to initialize MicroModal\n    MicroModal.init();\n\n  // Function to display event modal with additional details fetched\nfunction displayEventModal(event) {\n    // Display basic event details\n    $('.modal__top_image').html('<img src=\"' + event.images[0].url + '\">');\n    $('#modal-1-content .event__image').html('<img src=\"' + event.images[0].url + '\">');\n    $('.event__info_tilte').text(event.name);\n    $('.event__info').text(event.info);\n    $('.event__start_date').text(event.dates.start.localDate);\n    $('.event__place').text(event._embedded.venues[0].name);\n    \n    // Display event who if available\n    if (event._embedded && event._embedded.attractions && event._embedded.attractions.length > 0) {\n        let who = event._embedded.attractions.map(attraction => attraction.name).join(', ');\n        $('.event__who').text(who);\n    } else {\n        $('.event__who').text('Information not available');\n    }\n    \n    // Display event prices if available\n    if (event.priceRanges && event.priceRanges.length > 0) {\n        let prices = '';\n        event.priceRanges.forEach(function(priceRange) {\n            prices += `${priceRange.type}: ${priceRange.min} - ${priceRange.max} ${priceRange.currency}, `;\n        });\n        $('.event__prices').text(prices.slice(0, -2)); // Remove trailing comma and space\n    } else {\n        $('.event__prices').text('Prices information not available');\n    }\n    \n    // Fetch additional details for the event\n    fetchAdditionalEventDetails(event.id)\n        .then(function(details) {\n            // Update HTML elements with additional details\n            $('.event__additional_details').html('<p>' + details.additionalDetails + '</p>');\n        })\n        .catch(function(error) {\n            console.error('Error fetching additional event details:', error);\n        });\n    \n    // Open the modal\n    MicroModal.show('modal-1');\n}\n\n    // Function to fetch additional details for the event\n    function fetchAdditionalEventDetails(eventId) {\n        return new Promise(function(resolve, reject) {\n            // Perform fetch request to retrieve additional details\n            fetch(`https://app.ticketmaster.com/discovery/v2/events/${eventId}.json?apikey=N7FCeNuTwKBillrRlUtN6okNTN2WqI0N`)\n                .then(function(response) {\n                    if (response.ok) {\n                        return response.json();\n                    } else {\n                        throw new Error('Failed to fetch additional details');\n                    }\n                })\n                .then(function(data) {\n                    // Resolve the promise with additional details\n                    resolve(data);\n                })\n                .catch(function(error) {\n                    // Reject the promise with the error\n                    reject(error);\n                });\n        });\n    }\n\n    // Event handler to open modal for each event\n    $(document).on('click', '.event', function() {\n        // Extract the event ID from the clicked event element\n        const eventId = $(this).data('event-id');\n\n        // Fetch additional event details and then display the modal\n        fetchAdditionalEventDetails(eventId)\n            .then(function(eventDetails) {\n                // Pass the fetched event details to displayEventModal function\n                displayEventModal(eventDetails);\n            })\n            .catch(function(error) {\n                console.error('Error fetching event details:', error);\n            });\n    });\n});"],"names":["$","document","ready","fetchAdditionalEventDetails","eventId","Promise","resolve","reject","fetch","concat","then","response","ok","json","Error","data","catch","error","MicroModal","init","on","this","eventDetails","event","html","images","url","text","name","info","dates","start","localDate","_embedded","venues","attractions","length","who","map","attraction","join","priceRanges","prices","forEach","priceRange","type","min","max","currency","slice","id","details","additionalDetails","console","show","displayEventModal"],"version":3,"file":"index.4ddc1c95.js.map"}